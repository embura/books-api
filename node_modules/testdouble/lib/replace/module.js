// Generated by CoffeeScript 1.11.1
(function() {
  var imitate, quibble, wrapIfNeeded;

  quibble = require('quibble');

  imitate = require('./imitate');

  wrapIfNeeded = require('./wrap-if-needed');

  quibble.ignoreCallsFromThisFile();

  module.exports = function(path, stub) {
    var fakeThing, realThing;
    if (arguments.length > 1) {
      return quibble(path, stub);
    }
    realThing = require(quibble.absolutify(path));
    fakeThing = imitate(realThing, path);
    quibble(path, wrapIfNeeded(fakeThing, realThing));
    return fakeThing;
  };

}).call(this);
