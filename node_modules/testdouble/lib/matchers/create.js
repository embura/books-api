// Generated by CoffeeScript 1.11.1
(function() {
  var _, stringifyArguments,
    slice = [].slice;

  _ = require('../util/lodash-wrap');

  stringifyArguments = require('../stringify/arguments');

  module.exports = function(config) {
    return function() {
      var matcherArgs, matcherInstance;
      matcherArgs = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      matcherInstance = {
        __name: _.isFunction(config.name) ? config.name(matcherArgs) : config.name != null ? config.name + "(" + (stringifyArguments(matcherArgs)) + ")" : "[Matcher for (" + (stringifyArguments(matcherArgs)) + ")]",
        __matches: function(actualArg) {
          return config.matches(matcherArgs, actualArg);
        }
      };
      if (typeof config.onCreate === "function") {
        config.onCreate(matcherInstance, matcherArgs);
      }
      return matcherInstance;
    };
  };

}).call(this);
